<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Template Download - MyFamTreeCollab</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <h1>CSV Template for MyFamTreeCollab</h1>
        <p>Use this file as an example for importing family tree data.</p>
    </header>

    <main>
        <button id="downloadTemplateBtn" class="btn">Download CSV Template</button>
        <p id="status"></p>
    </main>

    <footer>
        <p>&copy; 2026 MyFamTreeCollab website</p>
    </footer>

    <script>
        document.getElementById("downloadTemplateBtn").addEventListener("click", function() {

            const headers = [
                "ID",
                "Doopnaam",
                "Roepnaam",
                "Prefix",
                "Achternaam",
                "Geslacht",
                "Geboortedatum",
                "Geboorteplaats",
                "Overlijdensdatum",
                "Overlijdensplaats",
                "Vader",
                "Moeder ID",
                "Partner ID",
                "Huwelijksdatum",
                "Huwelijksplaats",
                "Opmerkingen",
                "Adres",
                "ContactInfo",
                "URL"
            ];

            const sampleData = [
                ["AAX000001","Jan","Jan","Van","Doe","M","1970-05-12","Amsterdam","","","","","","","","","","1234 AB, Amsterdam","jan@example.com",""],
                ["AAX000002","Maria","Mari","De","Smith","F","1975-03-10","Rotterdam","","","","","","","","","","5678 CD, Rotterdam","maria@example.com",""],
                ["AAX000003","Piet","Piet","","Jansen","M","2000-08-25","Utrecht","","","AAX000001","AAX000002","","","","","","",""]
            ];

            let csvContent = headers.join(",") + "\n";
            sampleData.forEach(row => {
                // Escape commas in fields by wrapping in quotes
                const escapedRow = row.map(field => `"${field}"`);
                csvContent += escapedRow.join(",") + "\n";
            });

            const blob = new Blob([csvContent], { type: "text/csv" });
            const url = URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "familytree_template.csv";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            document.getElementById("status").textContent = "âœ… CSV Template has been downloaded.";
        });
    </script>
</body>
</html>

