<!-- ======================= stamboom/manage.html v1.2.1 ======================= -->
<!-- Lazy-load, zoek, refresh, opslaan en toevoegen en relatie tabel via js -->
<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8"> <!-- Tekencodering UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsief -->
    <title>MyFamTreeCollab - Manage</title> <!-- Browser tab titel -->
    <link rel="stylesheet" href="../css/style.css"> <!-- CSS styling -->

 <style>
/* Hoofd / Ouders / Partner / Kind (bestaand) */
.rel-hoofd   { background-color: #fffde7 !important; font-weight: 600; }
.rel-ouder   { background-color: #e8f5e9 !important; }
.rel-partner { background-color: #f3e5f5 !important; }
.rel-kind    { background-color: #e3f2fd !important; }

/* Kind scenario overrides */
.rel-kind.scenario-1 { background-color: #e3f2fd !important; }
.rel-kind.scenario-2 { background-color: #eef7fe !important; }
.rel-kind.scenario-3 { background-color: #f7fbff !important; }

/* Broer/Zus base color (licht paars) */
.rel-broer/zus { background-color: #f3e5f5 !important; }

/* Broer/Zus scenario overrides */
.rel-broer/zus.scenario-1 { background-color: #e1bee7 !important; } /* donkerder paars */
.rel-broer/zus.scenario-2 { background-color: #ce93d8 !important; } /* medium paars */
.rel-broer/zus.scenario-3 { background-color: #ba68c8 !important; } /* lichtere paars */

/* Input styling */
#manageTable td input {
    background-color: transparent;
    border: none;
    width: 100%;
    box-sizing: border-box;
}
</style>
    
</head>
<body>

<!-- ======================= layout/TopBar.html ======================= -->
<div id="topbar-placeholder"></div>
<script>
fetch('/MyFamTreeCollab/Layout/TopBar.html') // TopBar inladen via fetch
    .then(resp => resp.text())
    .then(data => document.getElementById('topbar-placeholder').innerHTML = data);
</script>

<!-- ======================= layout/Navbar.html ======================= -->
<div id="Navbar-placeholder"></div>
<script>
fetch('/MyFamTreeCollab/Layout/Navbar.html') // Navbar inladen via fetch
    .then(resp => resp.text())
    .then(data => {
        const placeholder = document.getElementById('Navbar-placeholder');
        if(placeholder) placeholder.innerHTML = data; // toevoegen aan DOM
        else console.error('Navbar-placeholder niet gevonden');
    });
</script>

<!-- ======================= Pagina Titel ======================= -->
<div id="pageTitle" style="font-size:1.5rem; font-weight:bold; margin-bottom:15px;"></div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const pageTitleDiv = document.getElementById('pageTitle');
    pageTitleDiv.textContent = "Manage Stamboom"; // Titel tonen
});
</script>

<!-- ======================= MAIN CONTENT ======================= -->
<main>
<div class="container">
    <!-- Zoekveld en knoppen -->
    <input type="text" id="searchPerson" placeholder="Voer ID of naam in">
    <button id="loadBtn">Laad Persoon</button>
    <button id="refreshBtn">Refresh</button>
    <button id="addBtn">+ Toevoegen</button>
    <button id="saveBtn">Opslaan</button>
    
<!-- ======================= Zoekresultaat Formulier ======================= -->
<div id="searchResultForm" style="display:none; margin-top:15px; border:1px solid #ccc; padding:10px;">
    <h4>Gevonden personen:</h4>
    <form id="resultForm">
        <table id="resultTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Roepnaam</th>
                    <th>Achternaam</th>
                    <th>Geboortedatum</th>
                </tr>
            </thead>
            <tbody>
                <!-- Zoekresultaten komen hier -->
            </tbody>
        </table>
    </form>
</div>

    <!-- Manage tabel -->
    <table id="manageTable">
        <thead><tr></tr></thead> <!-- headers vullen via manage.js -->
        <tbody></tbody> <!-- tbody vullen via manage.js -->
    </table>
</div>
</main>

<!-- ======================= SCRIPTS ======================= -->
<script src="../js/schema.js"></script> <!-- Schema functies -->
<script src="../js/idGenerator.js"></script> <!-- Unieke ID generator -->
<script src="../js/storage.js"></script> <!-- Opslag functies -->
<script src="../js/manage.js"></script> <!-- alle logica: renderTable, relaties, CRUD -->

<!-- ======================= FOOTER ======================= -->
<div id="footer-placeholder"></div>
<script>
fetch('/MyFamTreeCollab/Layout/Footer.html') // Footer inladen via fetch
    .then(resp => resp.text())
    .then(data => document.getElementById('footer-placeholder').innerHTML = data);
</script>

</body>
</html>
