<!-- ======================= stamboom/view.html v1.0.1 ======================= -->
<!-- .01 family tree view added  -->
<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8"> <!-- Tekencodering UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsief op mobiel/tablet/desktop -->
    <title>MyFamTreeCollab - View</title> <!-- ⚠️ Browser tab titel -->
    <link rel="stylesheet" href="../css/style.css"> <!-- Verbindt de externe CSS voor volledige styling -->
</head>
<body>
<!-- ======================= layout/TopBar.html ======================= -->

<!-- Placeholder waar de TopBar.html inhoud wordt ingeladen -->
<div id="topbar-placeholder"></div>  <!-- container voor TopBar content -->

<script>
fetch('/MyFamTreeCollab/Layout/TopBar.html')  // Haalt TopBar HTML op
    .then(resp => resp.text())                // lees de inhoud van het bestand Converteert response naar tekst
    .then(data => {                           // werk met de opgehaalde HTML data
        document.getElementById('topbar-placeholder').innerHTML = data;  // plaats de TopBar HTML in de placeholder
    });
</script>
<!-- ======================= layout/Navbar.html ======================= -->
<div id="Navbar-placeholder"></div> <!-- plek waar Navbar komt -->

<script>
fetch('/MyFamTreeCollab/Layout/Navbar.html') // Navbar bestand ophalen
    .then(resp => resp.text())               // omzetten naar HTML tekst
    .then(data => {
        const placeholder = document.getElementById('Navbar-placeholder'); // placeholder ophalen
        if (placeholder) {                   // controleren of element bestaat
            placeholder.innerHTML = data;    // Navbar injecteren
        } else {
            console.error('Navbar-placeholder niet gevonden'); // Debugmelding
        }
    });
</script>

<!-- ======================= Hoofd pagina ======================= -->
<!-- ======================= Pagina Titel Manueel ======================= -->
<div id="pageTitle" style="font-size:1.5rem; font-weight:bold; margin-bottom:15px;"></div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const pageTitleDiv = document.getElementById('pageTitle');  // Doel div
    const title = "View";            // ⚠️ Zelf invullen title
    pageTitleDiv.textContent = title
        .replace(/[-_]/g,' ')          // underscore/koppelteken → spatie
        .replace(/\b\w/g, c => c.toUpperCase()); // eerste letter hoofdletter
});
</script>

<!-- ======================= MAIN CONTENT ======================= -->
        <!-- ======================= MAIN INTRO CONTENT ======================= -->
<section style="margin-top:20px; padding:20px; background:#ffffff; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.05);">
    <h2 style="margin-bottom:15px;">Welkom bij MyFamTreeCollab</h2>
    <p style="margin-bottom:15px; line-height:1.6;">
        Deze omgeving is ontworpen om familiegeschiedenis centraal, overzichtelijk en veilig te beheren.
        Hier kan je personen bekijken, relaties analyseren en generaties structureren binnen één gedeeld platform.
    </p>
    <p style="margin-bottom:15px; line-height:1.6;">
        De view-pagina zal binnenkort uitgebreide functionaliteiten bevatten zoals:
    </p>
    <ul style="margin-left:20px; line-height:1.6;">
        <li>Overzicht van alle personen</li>
        <li>Relaties en familieverbanden visualiseren</li>
        <li>Filter- en zoekmogelijkheden</li>
        <li>Detailweergave per familielid</li>
    </ul>
    <p style="margin-top:15px; line-height:1.6;">
        Deze functionaliteiten worden momenteel ontwikkeld.
    </p>
</section>
    <!-- ======================= FAMILY TREE VIEW ======================= -->
<section style="margin-top:20px; padding:20px; background:#ffffff; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.05);">

    <h2 style="margin-bottom:20px;">Familie Overzicht</h2>

    <!-- Hier wordt de boom gerenderd -->
    <div id="tree"></div>

</section>

<!-- ======================= TREE CSS ======================= -->
<style>
.tree-layer{
    display:flex;
    justify-content:center;
    gap:20px;
    margin:20px 0;
}

.tree-node{
    padding:10px 16px;
    border-radius:8px;
    color:white;
    font-family:Arial;
    font-size:0.9rem;
    min-width:120px;
    text-align:center;
}

.main{background:#1976D2;}
.partner{background:#7B1FA2;}
.child{background:#F57C00;}
.sibling{background:#FBC02D;color:black;}
.parent{background:#388E3C;}
</style>

<!-- ======================= TREE SCRIPT ======================= -->
<script type="module">
import { renderTree } from "../js/tree.js";
import "../js/storage.js";

document.addEventListener('DOMContentLoaded', () => {

    const dataset = StamboomStorage.get();

    if(!dataset || dataset.length === 0){
        document.getElementById('tree').innerHTML = "<p>Geen data beschikbaar.</p>";
        return;
    }
    const hoofdId = dataset[0].ID; // start bij eerste persoon
    renderTree(dataset, hoofdId, "tree");
});
</script>
  <!-- ======================= yellow message Under Construction ======================= -->
<div class="under-construction" style="text-align:center; padding:50px 20px; background:#fff3cd; border:1px solid #ffeeba; border-radius:8px; margin-top:20px;">
    <h2 style="color:#856404; font-size:2rem; margin-bottom:10px;">⚠️ Under Construction</h2>
    <p style="color:#856404; font-size:1.1rem;">Deze pagina is momenteel in aanbouw. Kom binnenkort terug voor updates!</p>
</div>

<!-- ======================= PAGE-SPECIFIC JS ======================= -->
<!-- activeren als:Personen gaat tonen, Data uit localStorage leest, ID’s moet genereren, Tabellen moet renderen, Opslaan moet ondersteunen  -->   
<!-- <script src="../js/schema.js"></script> --> <!-- Rol: Datastructuur - Type: Model -->
<!-- <script src="../js/idGenerator.js"></script> --> <!-- Rol:Unieke ID’s - Type: Utility -->
<!-- <script src="../js/manage.js"></script> --> <!-- Rol: Logica & interactie - Type Controller  -->
<!-- ======================= bottom bar ======================= -->
  <!-- ======================= layout/Footer.html ======================= -->
<div id="footer-placeholder"></div>  <!-- Doel: container voor Footer content -->

<script>
fetch('/MyFamTreeCollab/Layout/Footer.html')  // pad naar de layout/Footer.html
    .then(resp => resp.text())                // response omzetten naar leesbare HTML
    .then(data => {                           // werk met de opgehaalde HTML
        document.getElementById('footer-placeholder').innerHTML = data; // Footer injecteren
    });
</script>
</body>
</html>
